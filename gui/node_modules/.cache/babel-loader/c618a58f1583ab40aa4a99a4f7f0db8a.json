{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/empty/style\";import _Empty from\"antd/es/empty\";import\"antd/es/progress/style\";import _Progress from\"antd/es/progress\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import _classCallCheck from\"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';// import axios from 'axios';\nimport axiosConfig from'../axiosConfig';import{CheckCircleTwoTone,CloseCircleTwoTone}from'@ant-design/icons';var ScanDetail=/*#__PURE__*/function(_React$Component){_inherits(ScanDetail,_React$Component);function ScanDetail(){var _getPrototypeOf2;var _this;_classCallCheck(this,ScanDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ScanDetail)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.cat=null;_this.subcat=null;_this.label=null;_this.state={match:{},structure:null,processed:null};_this.handleDelete=function(event){var matchID=_this.props.match.params.matchID;axiosConfig.delete('scans/'+matchID+'/');};_this.existsInProject=function(row){if(_this.state.match['matchitems']){for(var i=0;i<_this.state.match['matchitems'].length;i++){if(_this.state.match['matchitems'][i].trim()===row.trim()){return React.createElement(CheckCircleTwoTone,{style:{fontSize:'1.2rem',float:\"right\"},twoToneColor:\"#52c41a\"});}}}return React.createElement(CloseCircleTwoTone,{style:{fontSize:'1rem',float:\"right\"},twoToneColor:\"#FF0000\"});};_this.componentDidUpdate=function(){// console.log(this.state.match['matchitems'][0][0])\n};return _this;}_createClass(ScanDetail,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var matchID=this.props.match.params.matchID;axiosConfig.get('scans/'+matchID+'/').then(function(res){if(res.status===200){_this2.setState({match:res.data});axiosConfig.get('/metrics-structure/').then(function(res){if(res.status===200){_this2.setState({structure:res.data});}});}}).catch(function(err){// err.response.status === '404' ? \n//     this.props.history.push('/')\n// :\n//     console.log('loading')\n});}},{key:\"render\",value:function render(){var _this3=this;if(this.state.structure&&this.state.match['jobpost_result']){this.cat=this.state.structure[0][this.state.match['jobpost_results'][0].split(',')[0]];this.subcat=this.state.match['jobpost_results'][0].split(',')[1];this.label=this.state.match['jobpost_results'][0].split(',')[0];}return React.createElement(_Row,null,React.createElement(_Col,{span:3}),React.createElement(_Col,{span:9},React.createElement(_Progress,{type:\"circle\",percent:this.state.match.matchpercent?this.state.match.matchpercent*100:0})),this.props.match.params.matchID!==null?React.createElement(_Col,{span:5},this.state.structure&&this.state.match['jobpost_results']?React.createElement(\"div\",{style:{listStyleType:\"none\"}},React.createElement(\"h1\",null,this.state.structure[0][this.label]),React.createElement(\"h3\",null,this.state.structure[1][this.subcat]),this.state.match['jobpost_results'].map(function(item,key){var parts=item.split(',');if(_this3.subcat===parts[1]){if(_this3.label!==parts[0]){_this3.label=parts[0];return React.createElement(React.Fragment,{key:key},React.createElement(\"p\",null,_this3.state.structure[3][parts[0]],_this3.existsInProject(_this3.label)));}else{}}else{_this3.subcat=parts[1];_this3.label=parts[0];return React.createElement(React.Fragment,{key:key},React.createElement(\"h1\",null,_this3.cat===_this3.state.structure[0][_this3.label]?'':_this3.cat=_this3.state.structure[0][_this3.label]),React.createElement(\"h3\",null,_this3.state.structure[1][parts[1]]),React.createElement(\"p\",null,_this3.state.structure[3][parts[0]],_this3.existsInProject(_this3.label)));}})):React.createElement(_Empty,null)):React.createElement(\"span\",null,\"No data found\"));}}]);return ScanDetail;}(React.Component);export default ScanDetail;","map":{"version":3,"sources":["G:/Github/creativehire/frontend/gui/src/containers/ScanDetail.js"],"names":["React","axiosConfig","CheckCircleTwoTone","CloseCircleTwoTone","ScanDetail","cat","subcat","label","state","match","structure","processed","handleDelete","event","matchID","props","params","delete","existsInProject","row","i","length","trim","fontSize","float","componentDidUpdate","get","then","res","status","setState","data","catch","err","split","matchpercent","listStyleType","map","item","key","parts","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n// import axios from 'axios';\r\nimport { Empty  } from 'antd';\r\nimport { Progress, Row, Col } from 'antd';\r\nimport axiosConfig from '../axiosConfig';\r\n\r\nimport { CheckCircleTwoTone, CloseCircleTwoTone } from '@ant-design/icons';\r\n\r\nclass ScanDetail extends React.Component{\r\n\r\n    cat = null;\r\n\r\n    subcat = null;\r\n\r\n    label = null;\r\n\r\n    state = {\r\n        match: {},\r\n        structure: null,\r\n        processed: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const matchID = this.props.match.params.matchID;\r\n        axiosConfig.get('scans/' + matchID + '/')\r\n            .then(res => {\r\n                if(res.status === 200){\r\n                    this.setState({\r\n                        match: res.data\r\n                    });\r\n                    \r\n                    axiosConfig.get('/metrics-structure/')\r\n                    .then(res => {\r\n                        if(res.status === 200){\r\n                            this.setState({structure: res.data});\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                // err.response.status === '404' ? \r\n                //     this.props.history.push('/')\r\n                // :\r\n                //     console.log('loading')\r\n            })\r\n    }\r\n\r\n    handleDelete = (event) => {\r\n        const matchID = this.props.match.params.matchID;\r\n        axiosConfig.delete('scans/' + matchID + '/');\r\n    }\r\n\r\n    existsInProject = (row) => {\r\n        if(this.state.match['matchitems']){\r\n            for(var i=0;i<this.state.match['matchitems'].length;i++){\r\n                if(this.state.match['matchitems'][i].trim() === row.trim()){\r\n                    return <CheckCircleTwoTone style={{ fontSize: '1.2rem', float: \"right\" }} twoToneColor=\"#52c41a\" />\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        return <CloseCircleTwoTone style={{ fontSize: '1rem', float: \"right\" }} twoToneColor=\"#FF0000\" />\r\n    }\r\n\r\n\r\n    componentDidUpdate = () => {\r\n        // console.log(this.state.match['matchitems'][0][0])\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n        if(this.state.structure && this.state.match['jobpost_result']){\r\n            this.cat = this.state.structure[0][this.state.match['jobpost_results'][0].split(',')[0]]\r\n            this.subcat = this.state.match['jobpost_results'][0].split(',')[1];\r\n            this.label = this.state.match['jobpost_results'][0].split(',')[0];\r\n        } \r\n            \r\n\r\n\r\n        return (\r\n\r\n            <Row>\r\n                <Col span={3}></Col>\r\n            <Col span={9}><Progress type=\"circle\" percent={this.state.match.matchpercent? this.state.match.matchpercent*100 : 0} /></Col>\r\n\r\n\r\n                \r\n                {\r\n                this.props.match.params.matchID !== null ? \r\n                \r\n                <Col span={5}>\r\n                        { this.state.structure && this.state.match['jobpost_results'] ?\r\n                        <div style={{ listStyleType: \"none\" }}>\r\n                            <h1>{this.state.structure[0][this.label]}</h1>\r\n                            <h3>{this.state.structure[1][this.subcat]}</h3>\r\n\r\n\r\n                                {\r\n                                this.state.match['jobpost_results'].map((item, key) => {\r\n                                    var parts = item.split(',');\r\n                                    \r\n                                    if(this.subcat === parts[1]){\r\n                                        if(this.label !== parts[0]){\r\n                                            this.label = parts[0];\r\n                                            return(\r\n                                                <React.Fragment key={key}>\r\n                                                    <p>{this.state.structure[3][parts[0]]}{this.existsInProject(this.label)}</p>\r\n                                                </React.Fragment>\r\n                                                )\r\n                                        }\r\n                                        else{\r\n\r\n                                        }\r\n\r\n\r\n                                    }\r\n                                    else{\r\n                                        this.subcat = parts[1];\r\n                                        this.label = parts[0];\r\n                                    return(\r\n                                        <React.Fragment key={key}>\r\n                                            <h1>{\r\n                                                this.cat === this.state.structure[0][this.label] ?\r\n                                                ''\r\n                                                :\r\n                                                this.cat = this.state.structure[0][this.label]\r\n                                                }</h1>\r\n                                            <h3>{this.state.structure[1][parts[1]]}</h3>\r\n                                            <p>{this.state.structure[3][parts[0]]}\r\n                                    {this.existsInProject(this.label)}</p>\r\n                                        </React.Fragment>\r\n                                    )                                    \r\n\r\n                                }\r\n                                }) \r\n                                \r\n                                }\r\n                        </div>\r\n                                :\r\n                        <Empty  />\r\n                        }\r\n                        </Col>\r\n\r\n                :\r\n                    \r\n                    <span>No data found</span>\r\n                }\r\n                </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ScanDetail;"]},"metadata":{},"sourceType":"module"}