{"ast":null,"code":"var _jsxFileName = \"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\src\\\\components\\\\Form.js\";\nimport React from 'react';\nimport { Form, Input, Button, DatePicker } from 'antd';\nimport { UploadOutlined, InboxOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nconst layout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 14\n  }\n};\nconst validateMessages = {\n  required: 'This field is required!',\n  types: {\n    number: 'Not a validate number!'\n  }\n};\n\nclass CustomForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {// console.log(this.props);\n    };\n\n    this.handleFormSubmit = (event, requestType, jobpostID) => {\n      event.preventDefault();\n      const title = event.target.elements.title.value;\n      const description = event.target.elements.description.value;\n      const img = event.target.elements.img.value;\n      const expiry_date = event.target.elements.expiry_date.value;\n      const job_poster_id = localStorage.getItem('userProfileID');\n\n      switch (requestType) {\n        case 'post':\n          return axios.post('http://127.0.0.1:8000/jobpost/', {\n            title: title,\n            description: description,\n            job_poster_id: job_poster_id,\n            img: img\n          }).then(res => {\n            console.log(res);\n\n            if (res.status == '201') {\n              this.props.history.push('/jobpost/' + res.data.id + '/');\n            }\n          }).catch(error => this.setState({\n            err: error\n          }));\n\n        case 'put':\n          return axios.put('http://127.0.0.1:8000/jobpost/' + jobpostID + '/', {\n            title: title,\n            description: description,\n            job_poster_id: job_poster_id,\n            img: img\n          }).then(res => console.log(res)).catch(error => console.error(error)).finally(f => window.location.reload());\n      }\n    };\n\n    this.state = {\n      err: null\n    };\n  }\n\n  render() {\n    return React.createElement(Form, Object.assign({\n      onSubmitCapture: event => this.handleFormSubmit(event, this.props.requestType, this.props.jobpostID)\n    }, layout, {\n      name: \"nest-messages\",\n      validateMessages: validateMessages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      label: \"Title\",\n      rules: [{\n        required: true\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Input, {\n      name: \"title\",\n      placeholder: this.props.requestType == 'put' ? this.props.jobpost.title : \"Enter a title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"Description\",\n      rules: [{\n        required: true,\n        message: 'Please enter an image url'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Input.TextArea, {\n      name: \"description\",\n      placeholder: this.props.requestType == 'put' ? this.props.jobpost.description : \"Enter a Description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"Dragger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      name: \"dragger\",\n      valuePropName: \"fileList\",\n      getValueFromEvent: normFile,\n      noStyle: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Upload.Dragger, {\n      name: \"files\",\n      action: \"/upload.do\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"ant-upload-drag-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(InboxOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"ant-upload-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Click or drag file to this area to upload\"), React.createElement(\"p\", {\n      className: \"ant-upload-hint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Support for a single or bulk upload.\")))), React.createElement(Form.Item, {\n      wrapperCol: {\n        span: 12,\n        offset: 6\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      label: \"Image\",\n      rules: [{\n        required: true,\n        message: 'Please input image url!'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Input, {\n      name: \"img\",\n      placeholder: this.props.requestType == 'put' ? this.props.jobpost.img : \"Enter image url\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"Expires On\",\n      rules: [{\n        required: true\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(DatePicker, {\n      name: \"expiry_date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      hidden: this.state.err == null ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      wrapperCol: { ...layout.wrapperCol,\n        offset: 8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.props.btnText)));\n  }\n\n}\n\nexport default CustomForm;","map":{"version":3,"sources":["G:/Github/creativehire/frontend/gui/src/components/Form.js"],"names":["React","Form","Input","Button","DatePicker","UploadOutlined","InboxOutlined","axios","layout","labelCol","span","wrapperCol","validateMessages","required","types","number","CustomForm","Component","constructor","props","componentDidMount","handleFormSubmit","event","requestType","jobpostID","preventDefault","title","target","elements","value","description","img","expiry_date","job_poster_id","localStorage","getItem","post","then","res","console","log","status","history","push","data","id","catch","error","setState","err","put","finally","f","window","location","reload","state","render","jobpost","message","normFile","offset","btnText"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Form, Input, Button, DatePicker } from 'antd';\r\nimport { UploadOutlined, InboxOutlined } from '@ant-design/icons';\r\n\r\n\r\nimport axios from 'axios';\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 6,\r\n  },\r\n  wrapperCol: {\r\n    span: 14,\r\n  },\r\n};\r\nconst validateMessages = {\r\n  required: 'This field is required!',\r\n  types: {\r\n    number: 'Not a validate number!',\r\n  },\r\n};\r\n\r\n\r\nclass CustomForm extends React.Component {\r\n\r\n    constructor(props){\r\n      super(props);\r\n      this.state = {\r\n        err: null\r\n      }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n      // console.log(this.props);\r\n    }\r\n\r\n    handleFormSubmit = (event, requestType, jobpostID) => {\r\n        event.preventDefault();\r\n        const title = event.target.elements.title.value;\r\n        const description = event.target.elements.description.value;\r\n        const img = event.target.elements.img.value;\r\n        const expiry_date = event.target.elements.expiry_date.value;\r\n        const job_poster_id = localStorage.getItem('userProfileID');\r\n        \r\n        switch(requestType){\r\n            case 'post':\r\n               return axios.post('http://127.0.0.1:8000/jobpost/', {\r\n                    title: title,\r\n                    description: description,\r\n                    job_poster_id: job_poster_id,\r\n                    img:img\r\n                })\r\n                .then(res => {\r\n                  console.log(res);\r\n                  if(res.status == '201'){\r\n                    this.props.history.push('/jobpost/' + res.data.id + '/');\r\n                  }\r\n                })\r\n                .catch(error => this.setState({err: error}));\r\n\r\n            case 'put':\r\n                return axios.put('http://127.0.0.1:8000/jobpost/' + jobpostID + '/', {\r\n                    title: title,\r\n                    description: description,\r\n                    job_poster_id: job_poster_id,\r\n                    img:img\r\n                })\r\n                .then(res => console.log(res))\r\n                .catch(error => console.error(error))\r\n                .finally(f => window.location.reload());\r\n                \r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <Form onSubmitCapture={(event) => this.handleFormSubmit(\r\n                event,\r\n                this.props.requestType,\r\n                this.props.jobpostID\r\n                )} {...layout} name=\"nest-messages\" validateMessages={validateMessages}>\r\n              <Form.Item\r\n                label=\"Title\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                  },\r\n                ]}\r\n              >\r\n                <Input name=\"title\" placeholder={\r\n                  this.props.requestType == 'put' ?\r\n                    this.props.jobpost.title\r\n                  :\r\n                    \"Enter a title\"\r\n                  }/>\r\n              </Form.Item>\r\n        \r\n              <Form.Item label=\"Description\"\r\n              rules={[\r\n                  {\r\n                    required: true,\r\n                    message:'Please enter an image url'},\r\n              ]}>\r\n                <Input.TextArea name=\"description\" placeholder={\r\n                  this.props.requestType == 'put' ?\r\n                    this.props.jobpost.description\r\n                  :\r\n                    \"Enter a Description\"\r\n                  }/>\r\n              </Form.Item>\r\n\r\n                <Form.Item label=\"Dragger\">\r\n                    <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n                      <Upload.Dragger name=\"files\" action=\"/upload.do\">\r\n                        <p className=\"ant-upload-drag-icon\">\r\n                          <InboxOutlined />\r\n                        </p>\r\n                        <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\r\n                        <p className=\"ant-upload-hint\">Support for a single or bulk upload.</p>\r\n                      </Upload.Dragger>\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n\r\n                  <Form.Item\r\n                    wrapperCol={{\r\n                      span: 12,\r\n                      offset: 6,\r\n                    }}\r\n                  ></Form.Item>\r\n\r\n              \r\n              <Form.Item\r\n                label=\"Image\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: 'Please input image url!',\r\n                  },\r\n                ]}\r\n              >\r\n                  <Input name=\"img\"  placeholder={\r\n                  this.props.requestType == 'put' ?\r\n                    this.props.jobpost.img\r\n                  :\r\n                    \"Enter image url\"\r\n                  }/>\r\n              </Form.Item>\r\n\r\n\r\n\r\n\r\n\r\n        \r\n              <Form.Item label=\"Expires On\" \r\n              rules={[\r\n                  {required:true,}\r\n              ]}>\r\n                <DatePicker name=\"expiry_date\" />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                hidden={this.state.err == null ? true : false}\r\n              >\r\n              </Form.Item>\r\n             \r\n              <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  {this.props.btnText}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          );\r\n    }\r\n \r\n}\r\n\r\nexport default CustomForm;"]},"metadata":{},"sourceType":"module"}