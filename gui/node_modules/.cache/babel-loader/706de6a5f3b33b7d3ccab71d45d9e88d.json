{"ast":null,"code":"var _jsxFileName = \"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\src\\\\containers\\\\Profile.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Avatar, Upload, Button, message, Skeleton, Space, Spin } from 'antd';\nimport axios from 'axios';\nimport { UserOutlined, LoadingOutlined } from '@ant-design/icons';\n\nfunction UserProfile() {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [location, setLocation] = useState('');\n  const [img_salt, setImgSalt] = useState('');\n\n  const typeOfImage = proc => {\n    return {\n      \"type\": \"profile_pic\",\n      \"process\": proc\n    };\n  };\n\n  const antIcon = React.createElement(LoadingOutlined, {\n    style: {\n      fontSize: 24\n    },\n    spin: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  });\n  const userProfilePictureUploadProps = {\n    name: 'file',\n    acceptedFiles: '.png',\n    multiple: false,\n    method: 'post',\n    data: typeOfImage(\"upload\"),\n    action: 'http://127.0.0.1:8000/image-handler/',\n\n    onRemove(file) {\n      console.log(file);\n      axios.post('http://127.0.0.1:8000/image-handler/', {\n        \"file\": file.name,\n        ...typeOfImage('remove')\n      });\n    },\n\n    onChange(info) {\n      const {\n        status\n      } = info.file;\n\n      if (status !== 'uploading') {// console.log(info.file, info.fileList);\n      }\n\n      if (status === 'done') {\n        message.success(`${info.file.name} file uploaded successfully.`);\n      } else if (status === 'error') {\n        message.error(`${info.file.name} file upload failed.`); // Reload image\n\n        reloadProfilePicture();\n      }\n    }\n\n  };\n\n  const getProfile = () => {\n    axios.get('http://localhost:8000/userprofile/profile/' + localStorage.getItem('userProfileID')).then(res => {\n      // Load all profile data\n      reloadUsername(res.data['username']);\n      reloadEmail(res.data['email']);\n      reloadName(res.data['name']);\n      reloadLocation(res.data['location']);\n      reloadImgSalt(res.data['img_salt']);\n      setTimeout(() => message.success('Profile loaded successfully.'), 100);\n    }).catch(err => {\n      message.error(`Your profile could not be loaded due to ` + err.message);\n    });\n  };\n\n  const reloadUsername = data => {\n    setUsername(data);\n  };\n\n  const reloadEmail = data => {\n    setEmail(data);\n  };\n\n  const reloadName = data => {\n    setName(data);\n  };\n\n  const reloadLocation = data => {\n    setLocation(data);\n  };\n\n  const reloadImgSalt = data => {\n    setImgSalt(data);\n  };\n\n  const reloadProfilePicture = () => {};\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Row, {\n    gutter: [8, 48],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    shape: \"square\",\n    size: \"large\",\n    icon: img_salt == null ? React.createElement(UserOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }) : '',\n    src: img_salt == null ? '' : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(Col, {\n    xs: {\n      span: 5,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Your Profile\"))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Upload, Object.assign({}, userProfilePictureUploadProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(Button, {\n    size: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Change\"))), React.createElement(Col, {\n    xs: {\n      span: 5,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, username == null ? React.createElement(Spin, {\n    indicator: antIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }) : username)))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: {\n      span: 5,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Name: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, name == null ? 'Enter name' : name)))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: {\n      span: 5,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Email: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, email == null ? React.createElement(Skeleton, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }) : email)))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: {\n      span: 5,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Location: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, location == null ? 'Enter name' : name)))));\n}\n\nexport default UserProfile;","map":{"version":3,"sources":["G:/Github/creativehire/frontend/gui/src/containers/Profile.js"],"names":["React","useState","useEffect","Row","Col","Avatar","Upload","Button","message","Skeleton","Space","Spin","axios","UserOutlined","LoadingOutlined","UserProfile","username","setUsername","email","setEmail","name","setName","location","setLocation","img_salt","setImgSalt","typeOfImage","proc","antIcon","fontSize","userProfilePictureUploadProps","acceptedFiles","multiple","method","data","action","onRemove","file","console","log","post","onChange","info","status","success","error","reloadProfilePicture","getProfile","get","localStorage","getItem","then","res","reloadUsername","reloadEmail","reloadName","reloadLocation","reloadImgSalt","setTimeout","catch","err","span","offset"],"mappings":"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","sourcesContent":["import React, { useState, useEffect }  from 'react';\r\nimport { Row, Col, Avatar, Upload, Button, message, Skeleton, Space, Spin } from 'antd';\r\nimport axios from 'axios';\r\nimport { UserOutlined, LoadingOutlined } from '@ant-design/icons';\r\n\r\nfunction UserProfile() {\r\n\r\n    const[username, setUsername] = useState('');\r\n    const[email, setEmail] = useState('');\r\n    const[name, setName] = useState('');\r\n    const[location, setLocation] = useState('');\r\n    const[img_salt, setImgSalt] = useState('');\r\n\r\n\r\n    const typeOfImage = (proc) => {\r\n        return {\"type\" : \"profile_pic\", \"process\": proc}\r\n    }\r\n\r\n    const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n\r\n    \r\n    const userProfilePictureUploadProps = {\r\n        name: 'file',\r\n        acceptedFiles: '.png',\r\n        multiple: false,\r\n        method: 'post',\r\n        data: typeOfImage(\"upload\"),\r\n        action: 'http://127.0.0.1:8000/image-handler/',\r\n        onRemove(file){\r\n\r\n            console.log(file);\r\n            \r\n            axios.post('http://127.0.0.1:8000/image-handler/', {\r\n                \"file\": file.name,\r\n                ...typeOfImage('remove')\r\n            });\r\n\r\n        },\r\n        \r\n        onChange(info) {\r\n          const { status } = info.file;\r\n          if (status !== 'uploading') {\r\n            // console.log(info.file, info.fileList);\r\n          }\r\n          if (status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully.`);\r\n          } else if (status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n            // Reload image\r\n            \r\n            reloadProfilePicture();\r\n          }\r\n        },\r\n      };\r\n\r\n    const getProfile = () => {\r\n    axios.get('http://localhost:8000/userprofile/profile/' + localStorage.getItem('userProfileID'))\r\n    .then( res => {\r\n        // Load all profile data\r\n\r\n\r\n        reloadUsername(res.data['username']);\r\n        reloadEmail(res.data['email']);\r\n        reloadName(res.data['name']);\r\n        reloadLocation(res.data['location']);\r\n        reloadImgSalt(res.data['img_salt']);\r\n\r\n\r\n\r\n        setTimeout(() => message.success('Profile loaded successfully.'), 100);\r\n        }\r\n    )\r\n    .catch(err => {\r\n        message.error(`Your profile could not be loaded due to ` + err.message);\r\n    })\r\n    }\r\n\r\n    const reloadUsername = (data) => {\r\n        setUsername(data);\r\n    }\r\n\r\n    const reloadEmail = (data) => {\r\n        setEmail(data);\r\n    }\r\n\r\n    const reloadName = (data) => {\r\n        setName(data);\r\n    }\r\n\r\n    const reloadLocation = (data) => {\r\n        setLocation(data);\r\n    }\r\n\r\n    const reloadImgSalt = (data) => {\r\n        setImgSalt(data);\r\n    }\r\n\r\n    const reloadProfilePicture = () => {\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getProfile();\r\n    }, []); \r\n\r\n\r\n    return (\r\n        <div>   \r\n            \r\n            <Row gutter={[8, 48]}>\r\n                <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                    <Avatar shape=\"square\" size=\"large\" icon={img_salt == null ? <UserOutlined /> : ''} src={img_salt == null ? '' : ''}/>\r\n                </Col>\r\n                <Col xs={{ span: 5, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                    <h1>Your Profile</h1>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row gutter={[8, 20]}>\r\n                <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                    <Upload {...userProfilePictureUploadProps}>\r\n                        <Button\r\n                            size=\"small\">\r\n                            Change\r\n                        </Button>\r\n                    </Upload>\r\n                </Col>\r\n                <Col xs={{ span: 5, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                    <Space size = \"large\">\r\n                        <p>Username: </p>\r\n                        <p>{username == null ? <Spin indicator={antIcon} /> : username}</p>\r\n                    </Space>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row gutter={[8, 20]}>\r\n                <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                </Col>\r\n                <Col xs={{ span: 5, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                    <Space size = \"large\">\r\n                        <p>Name: </p>\r\n                        <p>{name == null ? 'Enter name' : name}</p>\r\n                    </Space>                \r\n                </Col>\r\n            </Row>\r\n\r\n            <Row gutter={[8, 20]}>\r\n                <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                </Col>\r\n                <Col xs={{ span: 5, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                    <Space size = \"large\">\r\n                        <p>Email: </p>\r\n                        <p>{email == null ? <Skeleton active /> : email}</p>\r\n                    </Space>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row gutter={[8, 20]}>\r\n                <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                </Col>\r\n                <Col xs={{ span: 5, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                    <Space size = \"large\">\r\n                        <p>Location: </p>\r\n                        <p>{location == null ? 'Enter name' : name}</p>\r\n                    </Space>                \r\n                </Col>\r\n            </Row>\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserProfile;\r\n"]},"metadata":{},"sourceType":"module"}