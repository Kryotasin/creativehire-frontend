{"ast":null,"code":"var _jsxFileName = \"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\src\\\\containers\\\\ScanDetail.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Space, Empty } from 'antd';\nimport { Progress, Row, Col } from 'antd';\nimport { CheckCircleTwoTone, CloseCircleTwoTone } from '@ant-design/icons';\n\nclass ScanDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.cat = null;\n    this.subcat = null;\n    this.label = null;\n    this.state = {\n      match: {},\n      structure: null,\n      processed: null\n    };\n\n    this.handleDelete = event => {\n      const matchID = this.props.match.params.matchID;\n      axios.delete('http://127.0.0.1:8000/scans/' + matchID + '/');\n    };\n\n    this.existsInProject = row => {\n      if (this.state.match['matchitems']) {\n        for (var i = 0; i < this.state.match['matchitems'].length; i++) {\n          if (this.state.match['matchitems'][i].trim() == row.trim()) {\n            return React.createElement(CheckCircleTwoTone, {\n              style: {\n                float: \"right\"\n              },\n              twoToneColor: \"#52c41a\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 57\n              },\n              __self: this\n            });\n          }\n        }\n      }\n\n      return React.createElement(CloseCircleTwoTone, {\n        style: {\n          fontSize: '16px',\n          float: \"right\"\n        },\n        twoToneColor: \"#FF0000\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    };\n\n    this.componentDidUpdate = () => {// console.log(this.state.match['matchitems'][0][0])\n    };\n  }\n\n  componentDidMount() {\n    const matchID = this.props.match.params.matchID;\n    axios.get('http://127.0.0.1:8000/scans/' + matchID + '/').then(res => {\n      if (res.status == 200) {\n        this.setState({\n          match: res.data\n        });\n        axios.get('http://127.0.0.1:8000/metrics-structure/').then(res => {\n          if (res.status == 200) {\n            this.setState({\n              structure: res.data\n            });\n          }\n        });\n      }\n    }).catch(err => {// err.response.status == '404' ? \n      //     this.props.history.push('/')\n      // :\n      //     console.log('loading')\n    });\n  }\n\n  render() {\n    if (this.state.structure && this.state.match['jobpost_result']) {\n      this.cat = this.state.structure[0][this.state.match['jobpost_results'][0].split(',')[0]];\n      this.subcat = this.state.match['jobpost_results'][0].split(',')[1];\n      this.label = this.state.match['jobpost_results'][0].split(',')[0];\n    }\n\n    return React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Col, {\n      span: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Progress, {\n      type: \"circle\",\n      percent: this.state.match.matchpercent ? this.state.match.matchpercent * 100 : 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), this.props.match.params.matchID !== null ? React.createElement(Col, {\n      span: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.structure && this.state.match['jobpost_results'] ? React.createElement(\"div\", {\n      style: {\n        listStyleType: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, this.state.structure[0][this.label]), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.structure[1][this.subcat]), this.state.match['jobpost_results'].map((item, key) => {\n      var parts = item.split(',');\n\n      if (this.subcat === parts[1]) {\n        if (this.label != parts[0]) {\n          this.label = parts[0];\n          return React.createElement(React.Fragment, {\n            key: key,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, this.state.structure[3][parts[0]], this.existsInProject(this.label)));\n        } else {}\n      } else {\n        this.subcat = parts[1];\n        this.label = parts[0];\n        return React.createElement(React.Fragment, {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, this.cat === this.state.structure[0][this.label] ? '' : this.cat = this.state.structure[0][this.label]), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, this.state.structure[1][parts[1]]), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, this.state.structure[3][parts[0]], this.existsInProject(this.label)));\n      }\n    })) : React.createElement(Empty, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })) : React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"No data found\"));\n  }\n\n}\n\nexport default ScanDetail;","map":{"version":3,"sources":["G:/Github/creativehire/frontend/gui/src/containers/ScanDetail.js"],"names":["React","axios","Space","Empty","Progress","Row","Col","CheckCircleTwoTone","CloseCircleTwoTone","ScanDetail","Component","cat","subcat","label","state","match","structure","processed","handleDelete","event","matchID","props","params","delete","existsInProject","row","i","length","trim","float","fontSize","componentDidUpdate","componentDidMount","get","then","res","status","setState","data","catch","err","render","split","matchpercent","listStyleType","map","item","key","parts"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Space, Empty  } from 'antd';\r\nimport { Progress, Row, Col } from 'antd';\r\n\r\n\r\nimport { CheckCircleTwoTone, CloseCircleTwoTone } from '@ant-design/icons';\r\n\r\nclass ScanDetail extends React.Component{\r\n\r\n    cat = null;\r\n\r\n    subcat = null;\r\n\r\n    label = null;\r\n\r\n    state = {\r\n        match: {},\r\n        structure: null,\r\n        processed: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const matchID = this.props.match.params.matchID;\r\n        axios.get('http://127.0.0.1:8000/scans/' + matchID + '/')\r\n            .then(res => {\r\n                if(res.status == 200){\r\n                    this.setState({\r\n                        match: res.data\r\n                    });\r\n                    \r\n                    axios.get('http://127.0.0.1:8000/metrics-structure/')\r\n                    .then(res => {\r\n                        if(res.status == 200){\r\n                            this.setState({structure: res.data});\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                // err.response.status == '404' ? \r\n                //     this.props.history.push('/')\r\n                // :\r\n                //     console.log('loading')\r\n            })\r\n    }\r\n\r\n    handleDelete = (event) => {\r\n        const matchID = this.props.match.params.matchID;\r\n        axios.delete('http://127.0.0.1:8000/scans/' + matchID + '/');\r\n    }\r\n\r\n    existsInProject = (row) => {\r\n        if(this.state.match['matchitems']){\r\n            for(var i=0;i<this.state.match['matchitems'].length;i++){\r\n                if(this.state.match['matchitems'][i].trim() == row.trim()){\r\n                    return <CheckCircleTwoTone style={{ float: \"right\" }} twoToneColor=\"#52c41a\" />\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        return <CloseCircleTwoTone style={{ fontSize: '16px', float: \"right\" }} twoToneColor=\"#FF0000\" />\r\n    }\r\n\r\n\r\n    componentDidUpdate = () => {\r\n        // console.log(this.state.match['matchitems'][0][0])\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n        if(this.state.structure && this.state.match['jobpost_result']){\r\n            this.cat = this.state.structure[0][this.state.match['jobpost_results'][0].split(',')[0]]\r\n            this.subcat = this.state.match['jobpost_results'][0].split(',')[1];\r\n            this.label = this.state.match['jobpost_results'][0].split(',')[0];\r\n        } \r\n            \r\n\r\n\r\n        return (\r\n\r\n            <Row>\r\n                <Col span={5}></Col>\r\n            <Col span={9}><Progress type=\"circle\" percent={this.state.match.matchpercent? this.state.match.matchpercent*100 : 0} /></Col>\r\n\r\n\r\n                \r\n                {\r\n                this.props.match.params.matchID !== null ? \r\n                \r\n                <Col span={5}>\r\n                        { this.state.structure && this.state.match['jobpost_results'] ?\r\n                        <div style={{ listStyleType: \"none\" }}>\r\n                            <h1>{this.state.structure[0][this.label]}</h1>\r\n                            <h3>{this.state.structure[1][this.subcat]}</h3>\r\n\r\n\r\n                                {\r\n                                this.state.match['jobpost_results'].map((item, key) => {\r\n                                    var parts = item.split(',');\r\n                                    \r\n                                    if(this.subcat === parts[1]){\r\n                                        if(this.label != parts [0]){\r\n                                            this.label = parts[0];\r\n                                            return(\r\n                                                <React.Fragment key={key}>\r\n                                                    <p>{this.state.structure[3][parts[0]]}{this.existsInProject(this.label)}</p>\r\n                                                </React.Fragment>\r\n                                                )\r\n                                        }\r\n                                        else{\r\n\r\n                                        }\r\n\r\n\r\n                                    }\r\n                                    else{\r\n                                        this.subcat = parts[1];\r\n                                        this.label = parts[0];\r\n                                    return(\r\n                                        <React.Fragment key={key}>\r\n                                            <h1>{\r\n                                                this.cat === this.state.structure[0][this.label] ?\r\n                                                ''\r\n                                                :\r\n                                                this.cat = this.state.structure[0][this.label]\r\n                                                }</h1>\r\n                                            <h3>{this.state.structure[1][parts[1]]}</h3>\r\n                                            <p>{this.state.structure[3][parts[0]]}\r\n                                    {this.existsInProject(this.label)}</p>\r\n                                        </React.Fragment>\r\n                                    )                                    \r\n\r\n                                }\r\n                                }) \r\n                                \r\n                                }\r\n                        </div>\r\n                                :\r\n                        <Empty  />\r\n                        }\r\n                        </Col>\r\n\r\n                :\r\n                    \r\n                    <span>No data found</span>\r\n                }\r\n                </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ScanDetail;"]},"metadata":{},"sourceType":"module"}