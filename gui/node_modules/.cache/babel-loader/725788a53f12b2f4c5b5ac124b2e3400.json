{"ast":null,"code":"var _jsxFileName = \"G:\\\\Github\\\\creativehire\\\\frontend\\\\gui\\\\src\\\\containers\\\\Profile.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Modal, Form, Input, Row, Col, Avatar, Upload, Button, message, Skeleton, Space, Typography } from 'antd';\nimport axios from 'axios';\nimport { UserOutlined, UploadOutlined } from '@ant-design/icons';\n\nfunction UserProfile() {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [location, setLocation] = useState('');\n  const [img_salt, setImgSalt] = useState('');\n  const [img, setImg] = useState(null);\n  const {\n    Text\n  } = Typography;\n\n  const typeOfImage = proc => {\n    return {\n      \"type\": \"profile_pic\",\n      \"process\": proc,\n      \"fileName\": img_salt\n    };\n  };\n\n  const userProfilePictureUploadProps = {\n    name: 'file',\n    acceptedFiles: '.png',\n    multiple: false,\n    method: 'post',\n    data: typeOfImage(\"upload\"),\n    action: 'http://127.0.0.1:8000/file-handler/',\n\n    onRemove(file) {\n      console.log(file);\n      axios.post('http://127.0.0.1:8000/file-handler/', {\n        \"file\": file.name,\n        ...typeOfImage('remove')\n      });\n    },\n\n    onChange(info) {\n      const {\n        status\n      } = info.file;\n\n      if (status !== 'uploading') {// console.log(info.file, info.fileList);\n      }\n\n      if (status === 'done') {\n        message.success(`${info.file.name} file uploaded successfully.`);\n      } else if (status === 'error') {\n        message.error(`${info.file.name} file upload failed.`);\n      }\n\n      reloadProfilePicture();\n    }\n\n  };\n\n  const getProfile = () => {\n    axios.get('http://localhost:8000/userprofile/' + localStorage.getItem('userProfileID')).then(res => {\n      // Load all profile data\n      reloadUsername(res.data['username']);\n      reloadEmail(res.data['email']);\n      reloadName(res.data['name']);\n      reloadLocation(res.data['location']);\n      reloadImgSalt(res.data['img_salt']);\n      setTimeout(() => message.success('Profile loaded successfully.'), 100);\n    }).finally().catch(err => {\n      message.error(`Your profile could not be loaded due to ` + err.message);\n    });\n  };\n\n  const reloadUsername = data => {\n    setUsername(data);\n  };\n\n  const reloadEmail = data => {\n    setEmail(data);\n  };\n\n  const reloadName = data => {\n    setName(data);\n  };\n\n  const reloadLocation = data => {\n    setLocation(data);\n  };\n\n  const reloadImgSalt = data => {\n    setImgSalt(data);\n  };\n\n  const reloadImg = data => {\n    setImg(data);\n  };\n\n  const reloadProfilePicture = () => {\n    console.log(typeOfImage('fetch'));\n    axios.post('http://localhost:8000/file-handler/', { ...typeOfImage('fetch')\n    }).then(res => {\n      if (res.status === 404) {\n        // Set something to show lack of profile picture.\n        console.log(res);\n      } else if (res.status === 200 && res.data != 'ErrorResponseMetadata') {\n        console.log(res);\n        reloadImg(res.data);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const CollectionCreateForm = ({\n    visible,\n    onCreate,\n    onCancel\n  }) => {\n    const [form] = Form.useForm();\n    return React.createElement(Modal, {\n      visible: visible,\n      title: \"Update Profile\",\n      okText: \"Update\",\n      cancelText: \"Cancel\",\n      onCancel: onCancel,\n      onOk: () => {\n        form.validateFields().then(values => {\n          form.resetFields();\n          onCreate(values);\n        }).catch(info => {\n          console.log('Validate Failed:', info);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Form, {\n      form: form,\n      layout: \"vertical\",\n      name: \"form_in_modal\",\n      initialValues: {\n        modifier: 'public'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      name: \"name\",\n      label: \"Name\",\n      rules: [{\n        message: 'Please input your full name.'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      name: \"emil\",\n      label: \"Email\",\n      rules: [{\n        message: 'Please input your email.',\n        type: 'email'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      name: \"location\",\n      label: \"Location\",\n      rules: [{\n        message: 'Please input your Location.'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: location,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))));\n  };\n\n  const [visible, setVisible] = useState(false);\n\n  const onCreate = values => {\n    console.log('Received values of form: ', values);\n    var newEmail = values.email == null ? email : values.email;\n    var newName = values.name == null ? name : values.name;\n    var newLocation = values.location == null ? location : values.location;\n    axios.put('http://127.0.0.1:8000/userprofile/update/' + localStorage.getItem('userProfileID'), {\n      email: newEmail,\n      name: newName,\n      location: newLocation\n    }).then(res => {\n      reloadEmail(res.data['email']);\n      reloadName(res.data['name']);\n      reloadLocation(res.data['location']);\n      reloadImgSalt(res.data['img_salt']);\n      setTimeout(() => message.success('Profile updated successfully!'), 100);\n    }).catch(err => {\n      message.error(`Your profile could not be updated due to ` + err.message);\n    });\n    setVisible(false);\n  };\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, React.createElement(Row, {\n    gutter: [8, 48],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, img == null ? React.createElement(Avatar, {\n    shape: \"square\",\n    size: \"large\",\n    icon: React.createElement(UserOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }) : React.createElement(\"img\", {\n    src: `data:image/png;base64,${img}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  })), React.createElement(Col, {\n    xs: {\n      span: 5,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, \"Your Profile\"))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, React.createElement(Upload, Object.assign({}, userProfilePictureUploadProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }), React.createElement(Button, {\n    size: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"Change Picture\"))), React.createElement(Col, {\n    xs: {\n      span: 8,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, username == null ? React.createElement(Text, {\n    type: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, \"No username found!\") : username)))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: {\n      span: 8,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }, \"Name: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, name == null ? React.createElement(Text, {\n    type: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, \"No name found!\") : name)))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: {\n      span: 8,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }, \"Email: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }, email == null ? React.createElement(Skeleton, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }) : email)))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: {\n      span: 8,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289\n    },\n    __self: this\n  }, React.createElement(Space, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291\n    },\n    __self: this\n  }, \"Location: \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, location == null ? React.createElement(Text, {\n    type: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292\n    },\n    __self: this\n  }, \"No location set!\") : location)))), React.createElement(Row, {\n    gutter: [8, 20],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: {\n      span: 6,\n      offset: 2\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }), React.createElement(Col, {\n    xs: {\n      span: 8,\n      offset: 1\n    },\n    lg: {\n      span: 6,\n      offset: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"primary\",\n    onClickCapture: () => setVisible(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, \"Edit\"))), React.createElement(CollectionCreateForm, {\n    visible: visible,\n    onCreate: onCreate,\n    onCancel: () => {\n      setVisible(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }));\n}\n\nexport default UserProfile;","map":{"version":3,"sources":["G:/Github/creativehire/frontend/gui/src/containers/Profile.js"],"names":["React","useState","useEffect","Modal","Form","Input","Row","Col","Avatar","Upload","Button","message","Skeleton","Space","Typography","axios","UserOutlined","UploadOutlined","UserProfile","username","setUsername","email","setEmail","name","setName","location","setLocation","img_salt","setImgSalt","img","setImg","Text","typeOfImage","proc","userProfilePictureUploadProps","acceptedFiles","multiple","method","data","action","onRemove","file","console","log","post","onChange","info","status","success","error","reloadProfilePicture","getProfile","get","localStorage","getItem","then","res","reloadUsername","reloadEmail","reloadName","reloadLocation","reloadImgSalt","setTimeout","finally","catch","err","reloadImg","CollectionCreateForm","visible","onCreate","onCancel","form","useForm","validateFields","values","resetFields","modifier","type","setVisible","newEmail","newName","newLocation","put","span","offset"],"mappings":"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","sourcesContent":["import React, { useState, useEffect }  from 'react';\r\nimport { Modal, Form, Input, Row, Col, Avatar, Upload, Button, message, Skeleton, Space, Typography  } from 'antd';\r\nimport axios from 'axios';\r\nimport { UserOutlined, UploadOutlined } from '@ant-design/icons';\r\n\r\n\r\n\r\nfunction UserProfile() {\r\n    const[username, setUsername] = useState('');\r\n    const[email, setEmail] = useState('');\r\n    const[name, setName] = useState('');\r\n    const[location, setLocation] = useState('');\r\n    const[img_salt, setImgSalt] = useState('');\r\n    const[img, setImg] = useState(null);\r\n\r\n    const { Text } = Typography;\r\n\r\n\r\n    const typeOfImage = (proc) => {\r\n        return {\"type\" : \"profile_pic\", \"process\": proc, \"fileName\": img_salt}\r\n    }\r\n    \r\n    const userProfilePictureUploadProps = {\r\n        name: 'file',\r\n        acceptedFiles: '.png',\r\n        multiple: false,\r\n        method: 'post',\r\n        data: typeOfImage(\"upload\"),\r\n        action: 'http://127.0.0.1:8000/file-handler/',\r\n        onRemove(file){\r\n\r\n            console.log(file);\r\n            \r\n            axios.post('http://127.0.0.1:8000/file-handler/', {\r\n                \"file\": file.name,\r\n                ...typeOfImage('remove')\r\n            });\r\n\r\n        },\r\n        \r\n        onChange(info) {\r\n          const { status } = info.file;\r\n          if (status !== 'uploading') {\r\n            // console.log(info.file, info.fileList);\r\n          }\r\n          if (status === 'done') {\r\n            message.success(`${info.file.name} file uploaded successfully.`);\r\n          } else if (status === 'error') {\r\n            message.error(`${info.file.name} file upload failed.`);\r\n          }\r\n          reloadProfilePicture();\r\n        },\r\n      };\r\n\r\n    const getProfile = () => {\r\n    axios.get('http://localhost:8000/userprofile/' + localStorage.getItem('userProfileID'))\r\n    .then( res => {\r\n        // Load all profile data\r\n\r\n\r\n        reloadUsername(res.data['username']);\r\n        reloadEmail(res.data['email']);\r\n        reloadName(res.data['name']);\r\n        reloadLocation(res.data['location']);\r\n        reloadImgSalt(res.data['img_salt']);\r\n\r\n        setTimeout(() => message.success('Profile loaded successfully.'), 100);\r\n        }\r\n    )\r\n    .finally()\r\n    .catch(err => {\r\n        message.error(`Your profile could not be loaded due to ` + err.message);\r\n    })\r\n    }\r\n\r\n    const reloadUsername = (data) => {\r\n        setUsername(data);\r\n    }\r\n\r\n    const reloadEmail = (data) => {\r\n        setEmail(data);\r\n    }\r\n\r\n    const reloadName = (data) => {\r\n        setName(data);\r\n    }\r\n\r\n    const reloadLocation = (data) => {\r\n        setLocation(data);\r\n    }\r\n\r\n    const reloadImgSalt = (data) => {\r\n        setImgSalt(data);\r\n    }\r\n\r\n    const reloadImg = (data) => {\r\n        setImg(data);\r\n    }\r\n\r\n    const reloadProfilePicture = () => {\r\n        console.log(typeOfImage('fetch'));\r\n        axios.post('http://localhost:8000/file-handler/', {\r\n            ...typeOfImage('fetch')\r\n        })\r\n        .then(\r\n            res => {\r\n\r\n            if(res.status === 404){\r\n                // Set something to show lack of profile picture.\r\n                console.log(res);\r\n            }\r\n\r\n            else if (res.status === 200 && res.data != 'ErrorResponseMetadata'){\r\n                console.log(res)\r\n                reloadImg(res.data);\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const CollectionCreateForm = ({ visible, onCreate, onCancel }) => {\r\n        const [form] = Form.useForm();\r\n        return (\r\n          <Modal\r\n            visible={visible}\r\n            title=\"Update Profile\"\r\n            okText=\"Update\"\r\n            cancelText=\"Cancel\"\r\n            onCancel={onCancel}\r\n            onOk={() => {\r\n              form\r\n                .validateFields()\r\n                .then(values => {\r\n                  form.resetFields();\r\n                  onCreate(values);\r\n                })\r\n                .catch(info => {\r\n                  console.log('Validate Failed:', info);\r\n                });\r\n            }}\r\n          >\r\n            <Form\r\n              form={form}\r\n              layout=\"vertical\"\r\n              name=\"form_in_modal\"\r\n              initialValues={{\r\n                modifier: 'public',\r\n              }}\r\n            >\r\n              <Form.Item\r\n                name=\"name\"\r\n                label=\"Name\"\r\n                rules={[\r\n                  {\r\n                    message: 'Please input your full name.',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input placeholder={name}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"emil\"\r\n                label=\"Email\"\r\n                rules={[\r\n                  {\r\n                    message: 'Please input your email.',\r\n                    type: 'email'\r\n                  },\r\n                ]}\r\n              >\r\n                <Input placeholder={email} />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"location\"\r\n                label=\"Location\"\r\n                rules={[\r\n                  {\r\n                    message: 'Please input your Location.',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input placeholder={location}/>\r\n              </Form.Item>\r\n            </Form>\r\n          </Modal>\r\n        );\r\n      };\r\n\r\n\r\n        const [visible, setVisible] = useState(false);\r\n    \r\n      \r\n        const onCreate = values => {\r\n            console.log('Received values of form: ', values);\r\n            \r\n            var newEmail = values.email == null ? email : values.email;\r\n            var newName = values.name == null ? name : values.name;\r\n            var newLocation = values.location == null ? location : values.location;\r\n            \r\n            axios.put('http://127.0.0.1:8000/userprofile/update/' + localStorage.getItem('userProfileID'),{\r\n                email: newEmail,\r\n                name: newName,\r\n                location: newLocation\r\n            })\r\n            .then(res => {\r\n                reloadEmail(res.data['email']);\r\n                reloadName(res.data['name']);\r\n                reloadLocation(res.data['location']);\r\n                reloadImgSalt(res.data['img_salt']);\r\n                setTimeout(() => message.success('Profile updated successfully!'), 100);\r\n            })\r\n            .catch(err => {\r\n                message.error(`Your profile could not be updated due to ` + err.message);\r\n            })\r\n\r\n            \r\n            setVisible(false);\r\n        }\r\n\r\n\r\n    useEffect(() => {\r\n        getProfile();\r\n    }, []); \r\n\r\n\r\n\r\n    return (\r\n            <div>   \r\n                <Row gutter={[8, 48]}>\r\n                    <Col xs={{ span: 6, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                        { \r\n                            img == null?\r\n                                <Avatar shape=\"square\" size=\"large\" icon={ <UserOutlined />}/>\r\n                            :\r\n                            <img src={`data:image/png;base64,${img}`} />                        \r\n                        }   \r\n                    </Col>\r\n                    <Col xs={{ span: 5, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                        <h1>Your Profile</h1>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row gutter={[8, 20]}>\r\n                    <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                        <Upload {...userProfilePictureUploadProps}>\r\n                            <Button\r\n                                size=\"small\">\r\n                                Change Picture\r\n                            </Button>\r\n                        </Upload>\r\n                    </Col>\r\n                    <Col xs={{ span: 8, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                        <Space size = \"large\">\r\n                            <p>Username: </p>\r\n                            <p>{username == null ? <Text type=\"danger\">No username found!</Text> : username}</p>\r\n                        </Space>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row gutter={[8, 20]}>\r\n                    <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                    </Col>\r\n                    <Col xs={{ span: 8, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                        <Space size = \"large\">\r\n                            <p>Name: </p>\r\n                            <p>{name == null ? <Text type=\"danger\">No name found!</Text> : name}</p>\r\n                        </Space>                \r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row gutter={[8, 20]}>\r\n                    <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                    </Col>\r\n                    <Col xs={{ span: 8, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                        <Space size = \"large\">\r\n                            <p>Email: </p>\r\n                            <p>{email == null ? <Skeleton active /> : email}</p>\r\n                        </Space>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row gutter={[8, 20]}>\r\n                    <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                    </Col>\r\n                    <Col xs={{ span: 8, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                        <Space size = \"large\">\r\n                            <p>Location: </p>\r\n                            <p>{location == null ? <Text type=\"danger\">No location set!</Text> : location}</p>\r\n                        </Space>                \r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row gutter={[8, 20]}>\r\n                    <Col xs={{ span: 6, offset: 2 }} lg={{ span: 6, offset: 2 }}>\r\n                    </Col>\r\n\r\n                    <Col xs={{ span: 8, offset: 1 }} lg={{ span: 6, offset: 2 }}>\r\n                        <Button type=\"primary\" onClickCapture={() => setVisible(true)}>Edit</Button>\r\n                    </Col>\r\n                </Row>\r\n\r\n                    <CollectionCreateForm\r\n                        visible={visible}\r\n                        onCreate={onCreate}\r\n                        onCancel={() => {\r\n                        setVisible(false);\r\n                        }}\r\n                    />\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default UserProfile;\r\n"]},"metadata":{},"sourceType":"module"}